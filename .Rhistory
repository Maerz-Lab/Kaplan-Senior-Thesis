View(Rcapito2024)
#Run lubridate
library(lubridate)
# Convert the DateTime column to a POSIXct object
# Parse the Date and Time column
Rcapito2024$`Date and Time` <- mdy_hms(Rcapito2024$`Date and Time`, tz = "EST")
Rcapito2024 <- Rcapito2024 %>%
mutate(
Date = format(`Date and Time`, "%Y-%m-%d"),  # Extract date in YYYY-MM-DD format
Time = format(`Date and Time`, "%H:%M:%S"),  # Extract time in HH:MM:SS format
)
##Following lines dont run
dat.meta2024 <- read_csv("Rcapito2024.csv")
master.met2024 <- subset(dat.meta2024, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
library(readr)
dat.Metamorphosis20092012<-read.csv("L. capito_UGA master rearing data_2009-2012.csv")
#use subset() function to create a new dataframe for 2009-2012 data
master.met2009 <- subset(dat.Metamorphosis20092012, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
#import 2013 data set
dat.meta2013<-read.csv("L. capito_UGA rearing data_2013.csv")
#using subset() function to create new dataframe for 2013 data
master.met2013 <- subset(dat.meta2013, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
#import and subset remaining csv files through 2024
dat.meta2015 <- read_csv("Rcapito_MetamorphLog_2015.csv")
master.met2015 <- subset(dat.meta2015, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
dat.meta2016 <- read_csv("Rcapito_MetamorphLog_2016.csv")
master.met2016 <- subset(dat.meta2016, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
dat.meta2017 <- read_csv("Rcapito_MetamorphLog_2017.csv")
master.met2017 <- subset(dat.meta2017, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
dat.meta2018 <- read_csv("Rcapito_MetamorphLog_2018.csv")
master.met2018 <- subset(dat.meta2018, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
dat.meta2019 <- read_csv("Rcapito_MetamorphLog_2019.csv")
master.met2019 <- subset(dat.meta2019, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
dat.meta2021 <- read_csv("Rcapito_MetamorphLog_2021.csv")
master.met2021 <- subset(dat.meta2021, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
dat.meta2022 <- read_csv("Rcapito_MetamorphLog_2022.csv")
master.met2022 <- subset(dat.meta2022, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
dat.meta2023 <- read_csv("Rcapito_MetamorphLog_2023.csv")
master.met2023 <- subset(dat.meta2023, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
##Following lines dont run
dat.meta2024 <- read_csv("Rcapito2024.csv")
master.met2024 <- subset(dat.meta2024, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
View(master.met2009)
View(master.met2009)
merged.Master <- rbind(master.met2009, master.met2013, master.met2015, master.met2016, master.met2017, master.met2018,
master.met2019, master.met2021, master.met2022, master.met2023)
## import 2024 data
library(readr)
Rcapito2024 <- read_csv("Rcapito2024.csv")
View(Rcapito2024)
#Run lubridate
library(lubridate)
# Convert the DateTime column to a POSIXct object
# Parse the Date and Time column
Rcapito2024$`Date and Time` <- mdy_hms(Rcapito2024$`Date and Time`, tz = "EST")
Rcapito2024 <- Rcapito2024 %>%
mutate(
Date = format(`Date and Time`, "%Y-%m-%d"),  # Extract date in YYYY-MM-DD format
Time = format(`Date and Time`, "%H:%M:%S"),  # Extract time in HH:MM:SS format
)
Rcapito2024 <- Rcapito2024 %>%
mutate(
Date = format(`Date and Time`, "%Y-%m-%d"),  # Extract date in YYYY-MM-DD format
Time = format(`Date and Time`, "%H:%M:%S"),  # Extract time in HH:MM:SS format
)
#Run lubridate
library(dplyr)
library(lubridate)
# Convert the DateTime column to a POSIXct object
# Parse the Date and Time column
Rcapito2024$`Date and Time` <- mdy_hms(Rcapito2024$`Date and Time`, tz = "EST")
Rcapito2024 <- Rcapito2024 %>%
mutate(
Date = format(`Date and Time`, "%Y-%m-%d"),  # Extract date in YYYY-MM-DD format
Time = format(`Date and Time`, "%H:%M:%S"),  # Extract time in HH:MM:SS format
)
Rcapito2024 <- Rcapito2024 %>%
mutate(
Date = format(`Date and Time`, "%Y-%m-%d"),  # Extract date in YYYY-MM-DD format
Time = format(`Date and Time`, "%H:%M:%S"),  # Extract time in HH:MM:SS format
)
Rcapito2024 <- Rcapito2024 %>%
mutate(Year = year(mdy_hms(`Date and Time`)))
# Print the result
print(Rcapito2024)
# converting the date column to a date from a character
Rcapito2024$Date <- as.Date(Rcapito2024$Date, format = "%m/%d/%Y")
str(df)
library(readr)
Rcapito2024 <- read_csv("Rcapito2024.csv")
#Run lubridate
library(dplyr)
library(lubridate)
# Convert the DateTime column to a POSIXct object
# Parse the Date and Time column
Rcapito2024$`Date and Time` <- mdy_hms(Rcapito2024$`Date and Time`, tz = "EST")
Rcapito2024 <- Rcapito2024 %>%
mutate(
Date = format(`Date and Time`, "%Y-%m-%d"),  # Extract date in YYYY-MM-DD format
Time = format(`Date and Time`, "%H:%M:%S"),  # Extract time in HH:MM:SS format
)
# Print the result
print(Rcapito2024)
# converting the date column to a date from a character
Rcapito2024$Date <- as.Date(Rcapito2024$Date, format = "%m/%d/%Y")
str(df)
View(Rcapito2024)
library(readr)
Rcapito2024 <- read_csv("Rcapito2024.csv")
#Run lubridate
library(dplyr)
library(lubridate)
# Convert the DateTime column to a POSIXct object
# Parse the Date and Time column
Rcapito2024$`Date and Time` <- mdy_hms(Rcapito2024$`Date and Time`, tz = "EST")
Rcapito2024 <- Rcapito2024 %>%
mutate(
Date = format(`Date and Time`, "%M-%D-%Y"),  # Extract date in YYYY-MM-DD format
Time = format(`Date and Time`, "%H:%M:%S"),  # Extract time in HH:MM:SS format
)
# Print the result
print(Rcapito2024)
# converting the date column to a date from a character
Rcapito2024$Date <- as.Date(Rcapito2024$Date, format = "%m/%d/%Y")
str(df)
View(Rcapito2024)
# Install and load necessary packages
install.packages("dplyr")
install.packages("lubridate")
library(dplyr)
library(lubridate)
# Example data
Rcapito2024 <- data.frame(
`Date and Time` = c("12/25/2020 01:45:00 PM", "07/04/2019 12:00:00 AM")
)
# Ensure the date-time column is correctly parsed
Rcapito2024$`Date and Time` <- mdy_hms(Rcapito2024$`Date and Time`, tz = "EST")
# Install and load necessary packages
install.packages("dplyr")
install.packages("lubridate")
library(dplyr)
library(lubridate)
# Example data
Rcapito2024 <- data.frame(
`Date and Time` = c("12/25/2020 01:45:00 PM", "07/04/2019 12:00:00 AM")
)
# Ensure the date-time column is correctly parsed
Rcapito2024$`Date and Time` <- mdy_hms(Rcapito2024$`Date and Time`, tz = "EST")
library(dplyr)
library(lubridate)
# Example data
Rcapito2024 <- data.frame(
`Date and Time` = c("12/25/2020 01:45:00 PM", "07/04/2019 12:00:00 AM")
)
Rcapito2024$`Date and Time` <- mdy_hms(Rcapito2024$`Date and Time`, tz = "EST")
# Convert the DateTime column to a POSIXct object
# Parse the Date and Time column
Rcapito2024$`Date and Time` <- mdy_hms(Rcapito2024$`Date and Time`, tz = "EST")
#Run lubridate
library(dplyr)
library(lubridate)
# Convert the DateTime column to a POSIXct object
# Parse the Date and Time column
Rcapito2024$`Date and Time` <- mdy_hms(Rcapito2024$`Date and Time`, tz = "EST")
Rcapito2024 <- read_csv("Rcapito2024.csv")
## import 2024 data
library(readr)
Rcapito2024 <- read_csv("Rcapito2024.csv")
library(lubridate)
#Run lubridate
library(dplyr)
# Convert the DateTime column to a POSIXct object
# Parse the Date and Time column
Rcapito2024$`Date and Time` <- mdy_hms(Rcapito2024$`Date and Time`, tz = "EST")
Rcapito2024 <- Rcapito2024 %>%
mutate(
Date = format(`Date and Time`, "%M-%D-%Y"),  # Extract date in YYYY-MM-DD format
Time = format(`Date and Time`, "%H:%M:%S"),  # Extract time in HH:MM:SS format
)
# Print the result
print(Rcapito2024)
# converting the date column to a date from a character
Rcapito2024$Date <- as.Date(Rcapito2024$Date, format = "%m/%d/%Y")
str(Rcapito2024)
# Load necessary libraries
library(readr)
library(dplyr)
library(lubridate)
# Read the CSV file
Rcapito2024 <- read_csv("Rcapito2024.csv")
# Convert the Date and Time column to a POSIXct object
Rcapito2024$`Date and Time` <- mdy_hms(Rcapito2024$`Date and Time`, tz = "EST")
# Extract Date, Time, and Year
Rcapito2024 <- Rcapito2024 %>%
mutate(
Date = as.Date(`Date and Time`),                 # Extract date in YYYY-MM-DD format
Time = format(`Date and Time`, "%H:%M:%S"),      # Extract time in HH:MM:SS format
Year = year(`Date and Time`)                     # Extract year
)
# Extract Date, Time, and Year
Rcapito2024 <- Rcapito2024 %>%
mutate(
Date = as.Date(`Date and Time`),                 # Extract date in YYYY-MM-DD format
Time = format(`Date and Time`, "%H:%M:%S"),      # Extract time in HH:MM:SS format
Year = year(`Date and Time`)                     # Extract year
)
# Print the result
print(Rcapito2024)
# Check the structure of the data frame
str(Rcapito2024)
##Following lines dont run
dat.meta2024 <- read_csv("Rcapito2024.csv")
master.met2024 <- subset(dat.meta2024, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
#import 2009-2012 data set
library(readr)
dat.Metamorphosis20092012<-read.csv("L. capito_UGA master rearing data_2009-2012.csv")
#use subset() function to create a new dataframe for 2009-2012 data
master.met2009 <- subset(dat.Metamorphosis20092012, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
#import 2013 data set
dat.meta2013<-read.csv("L. capito_UGA rearing data_2013.csv")
#import 2013 data set
dat.meta2013<-read.csv("L. capito_UGA rearing data_2013.csv")
#using subset() function to create new dataframe for 2013 data
master.met2013 <- subset(dat.meta2013, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
#import and subset remaining csv files through 2024
dat.meta2015 <- read_csv("Rcapito_MetamorphLog_2015.csv")
master.met2015 <- subset(dat.meta2015, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
dat.meta2016 <- read_csv("Rcapito_MetamorphLog_2016.csv")
master.met2016 <- subset(dat.meta2016, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
dat.meta2017 <- read_csv("Rcapito_MetamorphLog_2017.csv")
master.met2017 <- subset(dat.meta2017, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
dat.meta2018 <- read_csv("Rcapito_MetamorphLog_2018.csv")
master.met2018 <- subset(dat.meta2018, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
dat.meta2019 <- read_csv("Rcapito_MetamorphLog_2019.csv")
master.met2019 <- subset(dat.meta2019, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
dat.meta2021 <- read_csv("Rcapito_MetamorphLog_2021.csv")
master.met2021 <- subset(dat.meta2021, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
dat.meta2022 <- read_csv("Rcapito_MetamorphLog_2022.csv")
master.met2022 <- subset(dat.meta2022, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
dat.meta2023 <- read_csv("Rcapito_MetamorphLog_2023.csv")
master.met2023 <- subset(dat.meta2023, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
##Following lines dont run
dat.meta2024 <- read_csv("Rcapito2024.csv")
master.met2024 <- subset(dat.meta2024, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
library(readr)
library(dplyr)
library(lubridate)
# Read the CSV file
Rcapito2024 <- read_csv("Rcapito2024.csv")
# Convert the Date and Time column to a POSIXct object
Rcapito2024$`Date and Time` <- mdy_hms(Rcapito2024$`Date and Time`, tz = "EST")
# Extract Date, Time, and Year
Rcapito2024 <- Rcapito2024 %>%
mutate(
Date = as.Date(`Date and Time`),                 # Extract date in YYYY-MM-DD format
Time = format(`Date and Time`, "%H:%M:%S"),      # Extract time in HH:MM:SS format
Year = year(`Date and Time`)                     # Extract year
)
# Print the result
print(Rcapito2024)
# Check the structure of the data frame
str(Rcapito2024)
master.met2024 <- subset(dat.meta2024, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
# Load necessary libraries
library(readr)
library(dplyr)
library(lubridate)
# Read the CSV file
Rcapito2024 <- read_csv("Rcapito2024.csv")
# Convert the Date and Time column to a POSIXct object
Rcapito2024$`Date and Time` <- mdy_hms(Rcapito2024$`Date and Time`, tz = "EST")
# Extract Date, Time, and Year
Rcapito2024 <- Rcapito2024 %>%
mutate(
Date = as.Date(`Date and Time`),                 # Extract date in YYYY-MM-DD format
Time = format(`Date and Time`, "%H:%M:%S"),      # Extract time in HH:MM:SS format
Year = year(`Date and Time`)                     # Extract year
)
# Print the result
print(Rcapito2024)
# Check the structure of the data frame
str(Rcapito2024)
dat.meta2024 <- read_csv("Rcapito2024.csv")
master.met2024 <- subset(dat.meta2024, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
View(Rcapito2024)
View(Rcapito2024)
# Read the CSV file
Rcapito2024 <- read_csv("Rcapito2024.csv")
# Convert the Date and Time column to a POSIXct object
Rcapito2024$`Date and Time` <- mdy_hms(Rcapito2024$`Date and Time`, tz = "EST")
# Extract Date, Time, and Year
Rcapito2024.cleaned <- Rcapito2024 %>%
mutate(
Date = as.Date(`Date and Time`),                 # Extract date in YYYY-MM-DD format
Time = format(`Date and Time`, "%H:%M:%S"),      # Extract time in HH:MM:SS format
Year = year(`Date and Time`)                     # Extract year
)
# Print the result
print(Rcapito2024.cleaned)
# Check the structure of the data frame
str(Rcapito2024.cleaned)
dat.meta2024 <- read_csv("Rcapito2024.cleaned.csv")
View(Rcapito2024.cleaned)
# Print the result
print(Rcapito2024)
# Check the structure of the data frame
str(Rcapito2024)
dat.meta2024 <- read_csv("Rcapito2024.csv")
master.met2024 <- subset(dat.meta2024, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
View(merged.Master)
View(Rcapito2024)
unique(Rcapito2024.cleaned)
##Following lines dont run
dat.meta2024 <- read_csv("Rcapito2024.cleaned.csv")
# Load necessary libraries
library(readr)
##Following lines dont run
dat.meta2024 <- read_csv("Rcapito2024.cleaned.csv")
## Primary Investigators: Vanessa Terrell and Morgan Kaplan
## Last Edited: 9/27/24
## Goal of this code: working to subset data from 2009-2024 and compile into a master datafile
#import 2009-2012 data set
library(readr)
dat.Metamorphosis20092012<-read.csv("L. capito_UGA master rearing data_2009-2012.csv")
#use subset() function to create a new dataframe for 2009-2012 data
master.met2009 <- subset(dat.Metamorphosis20092012, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
#import 2013 data set
dat.meta2013<-read.csv("L. capito_UGA rearing data_2013.csv")
#using subset() function to create new dataframe for 2013 data
master.met2013 <- subset(dat.meta2013, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
#import and subset remaining csv files through 2024
dat.meta2015 <- read_csv("Rcapito_MetamorphLog_2015.csv")
master.met2015 <- subset(dat.meta2015, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
dat.meta2016 <- read_csv("Rcapito_MetamorphLog_2016.csv")
master.met2016 <- subset(dat.meta2016, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
dat.meta2017 <- read_csv("Rcapito_MetamorphLog_2017.csv")
master.met2017 <- subset(dat.meta2017, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
dat.meta2018 <- read_csv("Rcapito_MetamorphLog_2018.csv")
master.met2018 <- subset(dat.meta2018, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
dat.meta2019 <- read_csv("Rcapito_MetamorphLog_2019.csv")
master.met2019 <- subset(dat.meta2019, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
dat.meta2021 <- read_csv("Rcapito_MetamorphLog_2021.csv")
master.met2021 <- subset(dat.meta2021, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
dat.meta2022 <- read_csv("Rcapito_MetamorphLog_2022.csv")
master.met2022 <- subset(dat.meta2022, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
dat.meta2023 <- read_csv("Rcapito_MetamorphLog_2023.csv")
master.met2023 <- subset(dat.meta2023, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
##Following lines dont run
dat.meta2024 <- read_csv("Rcapito2024.cleaned.csv")
write.csv(Rcapito2024.cleaned, "RCapito2024.cleaned.csv", row.names = FALSE)
##Following lines dont run
dat.meta2024 <- read_csv("Rcapito2024.cleaned.csv")
master.met2024 <- subset(dat.meta2024, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
master.met2024 <- subset(dat.meta2024, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
##Following lines dont run
dat.meta2024 <- read_csv("Rcapito2024.cleaned.csv")
master.met2024 <- subset(dat.meta2024, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
View(Rcapito2024.cleaned)
View(Rcapito2024.cleaned)
##Following lines dont run
dat.meta2024 <- read_csv("Rcapito2024.cleaned.csv")
master.met2024 <- subset(dat.meta2024, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
master.met2024 <- subset(dat.meta2024, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed))
##master does not include 2024 yet bc above code doesnt run
#create a master dataset with all subsetted data files
library(dplyr)
merged.Master <- rbind(master.met2009, master.met2013, master.met2015, master.met2016, master.met2017, master.met2018,
master.met2019, master.met2021, master.met2022, master.met2023, master.met2024)
merged.Master <- rbind(master.met2009, master.met2013, master.met2015, master.met2016, master.met2017, master.met2018,
master.met2019, master.met2021, master.met2022, master.met2023)
merged.Master <- rbind(master.met2009, master.met2013, master.met2015, master.met2016, master.met2017, master.met2018,
master.met2019, master.met2021, master.met2022, master.met2023, master.met2024)
merged.Master <- rbind(master.met2009, master.met2013, master.met2015, master.met2016, master.met2017, master.met2018,
master.met2019, master.met2021, master.met2022, master.met2023, master.met2024)
##Following lines dont run
dat.meta2024 <- read_csv("Rcapito2024.cleaned.csv")
master.met2024 <- subset(dat.meta2024, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed))
master.met2024 <- subset(dat.meta2024, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
merged.Master <- rbind(master.met2009, master.met2013, master.met2015, master.met2016, master.met2017, master.met2018,
master.met2019, master.met2021, master.met2022, master.met2023, master.met2024)
View(merged.Master)
View(merged.Master)
View(master.met2019)
View(master.met2019)
View(master.met2021)
View(master.met2021)
View(dat.meta2019)
View(dat.meta2019)
# Populate year columns shown as N/A
dat.meta2019.cleaned <- dat.meta2019 %>%
mutate(Year = "2019")
View(dat.meta2019.cleaned)
# Populate 2019 year columns shown as N/A
dat.meta2019.cleaned <- dat.meta2019 %>%
mutate(Year = "2019")
# Step 4: Save the modified dataframe back to a CSV file
write.csv(dat.meta2019, "dat.meta2019.cleaned.csv", row.names = FALSE)
master.met2019 <- subset(dat.meta2019.cleaned, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
# Populate 2019 year columns shown as N/A
dat.meta2018.cleaned <- dat.meta2018 %>%
mutate(Year = "2018")
# Save the modified dataframe back to a CSV file
write.csv(dat.meta2018, "dat.meta2018.cleaned.csv", row.names = FALSE)
master.met2018 <- subset(dat.meta2018, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
master.met2018 <- subset(dat.meta2018.cleaned, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
dat.meta2021 <- read_csv("Rcapito_MetamorphLog_2021.csv")
# Populate 2021 year columns shown as N/A
dat.meta2021.cleaned <- dat.meta2021 %>%
mutate(Year = "2021")
# Save the modified dataframe back to a CSV file
write.csv(dat.meta2021, "dat.meta2021.cleaned.csv", row.names = FALSE)
# Merge into master file
master.met2021 <- subset(dat.meta2021, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
## Primary Investigators: Vanessa Terrell and Morgan Kaplan
## Last Edited: 9/27/24
## Goal of this code: working to subset data from 2009-2024 and compile into a master datafile
# Load necessary libraries
library(readr)
library(dplyr)
library(lubridate)
# Import 2009-2012 data set
dat.Metamorphosis20092012<-read.csv("L. capito_UGA master rearing data_2009-2012.csv")
# Use subset() function to create a new dataframe for 2009-2012 data
master.met2009 <- subset(dat.Metamorphosis20092012, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
# Import 2013 data set
dat.meta2013<-read.csv("L. capito_UGA rearing data_2013.csv")
# Use subset() function to create new dataframe for 2013 data
master.met2013 <- subset(dat.meta2013, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
# Import and subset 2015 data
dat.meta2015 <- read_csv("Rcapito_MetamorphLog_2015.csv")
master.met2015 <- subset(dat.meta2015, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
# Import and subset 2016 data
dat.meta2016 <- read_csv("Rcapito_MetamorphLog_2016.csv")
master.met2016 <- subset(dat.meta2016, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
# Import and subset 2017 data
dat.meta2017 <- read_csv("Rcapito_MetamorphLog_2017.csv")
master.met2017 <- subset(dat.meta2017, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
# Read 2018 data
dat.meta2018 <- read_csv("Rcapito_MetamorphLog_2018.csv")
# Populate 2018 year columns shown as N/A
dat.meta2018.cleaned <- dat.meta2018 %>%
mutate(Year = "2018")
# Save the modified dataframe back to a CSV file
write.csv(dat.meta2018.cleaned, "dat.meta2018.cleaned.csv", row.names = FALSE)
# Merge into master file
master.met2018 <- subset(dat.meta2018.cleaned, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
# Read 2019 data
dat.meta2019 <- read_csv("Rcapito_MetamorphLog_2019.csv")
# Populate 2019 year columns shown as N/A
dat.meta2019.cleaned <- dat.meta2019 %>%
mutate(Year = "2019")
# Save the modified dataframe back to a CSV file
write.csv(dat.meta2019.cleaned, "dat.meta2019.cleaned.csv", row.names = FALSE)
# Merge into master file
master.met2019 <- subset(dat.meta2019.cleaned, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
# Read 2021 data
dat.meta2021 <- read_csv("Rcapito_MetamorphLog_2021.csv")
# Populate 2021 year columns shown as N/A
dat.meta2021.cleaned <- dat.meta2021 %>%
mutate(Year = "2021")
# Save the modified dataframe back to a CSV file
write.csv(dat.meta2021.cleaned, "dat.meta2021.cleaned.csv", row.names = FALSE)
# Merge into master file
master.met2021 <- subset(dat.meta2021.cleaned, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
# Read 2022 data
dat.meta2022 <- read_csv("Rcapito_MetamorphLog_2022.csv")
# Populate 2022 year columns shown as N/A
dat.meta2022.cleaned <- dat.meta2022 %>%
mutate(Year = "2022")
# Save the modified dataframe back to a CSV file
write.csv(dat.meta2022.cleaned, "dat.meta2022.cleaned.csv", row.names = FALSE)
# Merge into master file
master.met2022 <- subset(dat.meta2022.cleaned, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
# Read and merge 2023 data
dat.meta2023 <- read_csv("Rcapito_MetamorphLog_2023.csv")
master.met2023 <- subset(dat.meta2023, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
# Read and merge 2024 data
dat.meta2024 <- read_csv("Rcapito2024.cleaned.csv")
master.met2024 <- subset(dat.meta2024, select = c(Year, Date.metamorphosed, Mass.g.metamorphosed, Fate.comments))
# Create a master dataset with all subsetted data files
merged.Master <- rbind(master.met2009, master.met2013, master.met2015, master.met2016, master.met2017, master.met2018,
master.met2019, master.met2021, master.met2022, master.met2023, master.met2024)
# Separating Date, Time, and Year columns from one "Date and Time" column in 2024 dataset
# Read the CSV file
Rcapito2024 <- read_csv("Rcapito2024.csv")
# Convert the Date and Time column to a POSIXct object
Rcapito2024$`Date and Time` <- mdy_hms(Rcapito2024$`Date and Time`, tz = "EST")
# Extract Date, Time, and Year
Rcapito2024.cleaned <- Rcapito2024 %>%
mutate(
Date = as.Date(`Date and Time`),                 # Extract date in YYYY-MM-DD format
Time = format(`Date and Time`, "%H:%M:%S"),      # Extract time in HH:MM:SS format
Year = year(`Date and Time`)                     # Extract year
)
# Print the result
print(Rcapito2024)
# Check the structure of the data frame
str(Rcapito2024)
write.csv(Rcapito2024.cleaned, "RCapito2024.cleaned.csv", row.names = FALSE)
## Notes for Vanessa:
## The survey123 used AM/PM time instead of military and we ran into parsing
## issues. Line 34 fixed this by including the time zone and converting to military time
## TO DO
## Line 45 doesnt run. Won't read Year. Ugh.
## Have to solve that and then add 2024 data to merged master.
## date format is creating missing values for a few 2019 variable.
View(merged.Master)
View(merged.Master)
View(dat.Metamorphosis20092012)
View(dat.Metamorphosis20092012)
View(master.met2021)
View(master.met2009)
